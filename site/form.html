<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Локация.Дневник</title>
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div class="content">
			<div class="header">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="1290"
					height="300"
					viewBox="0 0 129 30"
					fill="none"
				>
					<path
						d="M29.6877 14.04H38.9517V27H35.5197V17.088H32.5437L32.1117 21.696C31.9197 23.648 31.3997 25.032 30.5517 25.848C29.7037 26.664 28.4317 27.072 26.7357 27.072H26.1597V23.904H27.0237C27.5037 23.904 27.9037 23.736 28.2237 23.4C28.5437 23.064 28.7357 22.584 28.7997 21.96L29.6877 14.04Z"
						fill="#F3F3F3"
					/>
					<path
						d="M48.4808 27.36C47.1528 27.36 45.9528 27.064 44.8808 26.472C43.8088 25.88 42.9688 25.064 42.3608 24.024C41.7688 22.968 41.4728 21.8 41.4728 20.52C41.4728 18.552 42.1368 16.92 43.4648 15.624C44.7928 14.328 46.4648 13.68 48.4808 13.68C50.4808 13.68 52.1448 14.328 53.4728 15.624C54.8008 16.92 55.4648 18.552 55.4648 20.52C55.4648 22.472 54.7928 24.104 53.4488 25.416C52.1208 26.712 50.4648 27.36 48.4808 27.36ZM48.4808 24.072C49.4888 24.072 50.3128 23.744 50.9528 23.088C51.5928 22.416 51.9128 21.56 51.9128 20.52C51.9128 19.48 51.5928 18.632 50.9528 17.976C50.3128 17.304 49.4808 16.968 48.4568 16.968C47.4488 16.968 46.6248 17.304 45.9848 17.976C45.3448 18.632 45.0248 19.48 45.0248 20.52C45.0248 21.032 45.1048 21.512 45.2648 21.96C45.4408 22.408 45.6808 22.784 45.9848 23.088C46.2888 23.392 46.6488 23.632 47.0648 23.808C47.4968 23.984 47.9688 24.072 48.4808 24.072Z"
						fill="#F3F3F3"
					/>
					<path
						d="M69.8965 27H65.6725L61.4965 20.808V27H57.9925V14.04H61.4965V19.8L65.4325 14.04H69.4165L65.0245 20.232L69.8965 27Z"
						fill="#F3F3F3"
					/>
					<path
						d="M81.4671 14.016H84.0831V26.976H81.3231L81.0351 25.824C79.8511 26.848 78.4511 27.36 76.8351 27.36C74.8831 27.36 73.2591 26.712 71.9631 25.416C70.6831 24.104 70.0431 22.464 70.0431 20.496C70.0431 18.544 70.6831 16.92 71.9631 15.624C73.2591 14.328 74.8831 13.68 76.8351 13.68C78.4831 13.68 79.8991 14.208 81.0831 15.264L81.4671 14.016ZM74.5791 23.04C75.2511 23.712 76.0911 24.048 77.0991 24.048C78.1231 24.048 78.9711 23.712 79.6431 23.04C80.3151 22.368 80.6511 21.52 80.6511 20.496C80.6511 19.472 80.3151 18.624 79.6431 17.952C78.9711 17.28 78.1311 16.944 77.1231 16.944C76.4511 16.944 75.8431 17.104 75.2991 17.424C74.7711 17.728 74.3551 18.152 74.0511 18.696C73.7471 19.224 73.5951 19.824 73.5951 20.496C73.5951 21.52 73.9231 22.368 74.5791 23.04Z"
						fill="#F3F3F3"
					/>
					<path
						d="M98.7814 23.784H100.461V29.976H97.2934V27H87.4534V14.04H90.8854V23.784H95.3494V14.04H98.7814V23.784Z"
						fill="#F3F3F3"
					/>
					<path
						d="M112.518 14.04H114.486V27H111.102V20.136L105.078 27H103.086V14.04H106.47V20.832L112.518 14.04Z"
						fill="#F3F3F3"
					/>
					<path
						d="M121.86 14.04H128.316V27H124.956V22.512H122.916L120.42 27H116.676L119.58 21.912C118.876 21.528 118.332 21.024 117.948 20.4C117.58 19.776 117.396 19.08 117.396 18.312C117.396 17.096 117.82 16.08 118.668 15.264C119.516 14.448 120.58 14.04 121.86 14.04ZM122.508 19.824H124.956V16.824H122.508C121.996 16.824 121.588 16.968 121.284 17.256C120.996 17.528 120.852 17.888 120.852 18.336C120.852 18.624 120.916 18.88 121.044 19.104C121.172 19.328 121.356 19.504 121.596 19.632C121.852 19.76 122.156 19.824 122.508 19.824Z"
						fill="#F3F3F3"
					/>
					<path
						d="M0 15.6435C0 12.9037 0 10.1657 0 7.42762C0 6.11597 0.551444 5.1683 1.71282 4.51903C4.11077 3.17952 6.49533 1.82031 8.88158 0.461127C9.96442 -0.155347 11.0356 -0.152068 12.1151 0.461127C14.5047 1.8154 16.8893 3.17788 19.2839 4.51903C20.4435 5.17485 21.0033 6.12252 21 7.42924C20.99 10.1132 21 12.7972 21 15.4811C21 16.732 20.4635 17.6749 19.3474 18.2996C14.8288 20.8245 10.3142 23.3498 5.80353 25.876L4.61041 26.5399C2.43805 27.7516 0.0167084 26.3907 0.00835316 23.9346C-0.00167308 21.1688 0.00835316 18.4028 0.00835316 15.6385L0 15.6435ZM2.66197 15.5844C2.66197 18.3488 2.66197 21.1142 2.66197 23.8806C2.66197 24.4019 2.8508 24.5216 3.28192 24.2806C8.16136 21.5546 13.0403 18.8291 17.9186 16.1042C18.049 16.0452 18.1577 15.9481 18.2301 15.8265C18.3023 15.7048 18.3348 15.5642 18.323 15.4237C18.3107 12.7677 18.3107 10.1116 18.323 7.45548C18.3363 7.30915 18.3031 7.16233 18.228 7.03523C18.1529 6.90811 18.0396 6.80693 17.9036 6.74555C15.5552 5.43391 13.2157 4.10587 10.8852 2.76143C10.7691 2.67938 10.6297 2.63523 10.4866 2.63523C10.3436 2.63523 10.2041 2.67938 10.0881 2.76143C7.75753 4.10039 5.41808 5.4279 3.06971 6.74391C2.93314 6.804 2.81903 6.90434 2.74327 7.03099C2.66749 7.15762 2.63383 7.30428 2.64692 7.45056C2.66698 10.1624 2.66197 12.8726 2.66197 15.5844Z"
						fill="#F3F3F3"
					/>
					<path
						d="M8.01597 10.123C9.70206 11.3199 11.3581 11.3314 13.0291 10.0657L14.6333 12.0561C12.2938 14.1613 8.67103 14.1121 6.27809 12.0216L8.01597 10.123Z"
						fill="#F3F3F3"
					/>
				</svg>
			</div>
			<form>
				<div class="question">
					<h2>
						Какие общелагерные цели<br />
						были достигнуты (не достигнуты)?
					</h2>
					<textarea
						id="form_1"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div class="question">
					<h2>
						Какие внутриотрядные цели
						<br />были достигнуты (не достигнуты)?
					</h2>
					<textarea
						id="form_2"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div class="question">
					<h2>
						Как дети восприняли
						<br />тематику и наполнение дня?
					</h2>
					<textarea
						id="form_3"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div class="question">
					<h2>
						Какие мероприятия способствовали
						<br />достижению внутриотрядных <br />и общелагерных целей?
					</h2>
					<textarea
						id="form_4"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div class="question">
					<h2>Общее настроение в отряде</h2>
					<textarea
						id="form_5"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div class="question">
					<h2>
						С какими проблемами вы столкнулись сегодня <br />в отряде
						(конфликты, нарушение дисциплины, <br />проблемные дети...)?
					</h2>
					<textarea
						id="form_6"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div class="question">
					<h2>
						Предпринятые и запланированные
						<br />методы решения возникших проблем
					</h2>
					<textarea
						id="form_7"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div class="question">
					<h2>
						Есть ли особенности во взаимоотношениях
						<br />(вожатый-вожатый, вожатый-ребенок, <br />вожатый-отряд)?
					</h2>
					<textarea
						id="form_8"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div class="question">
					<h2>Оцените развитие своего отряда<br />по следующим показателям:</h2>
					<h2>
						<span class="list-marker">•</span> Уровень сплоченности отряда
					</h2>
					<h2>
						<span class="list-marker">•</span> Наличие или отсутствие
						микрогрупп<br />(какие они по составу)?
					</h2>
					<h2>
						<span class="list-marker">•</span> Половозрастные взаимоотношения
					</h2>
					<textarea
						id="form_10"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div class="question">
					<h2>
						Наличие или отсутствие лидеров <br />(качество их работы в отряде)
					</h2>

					<textarea
						id="form_9"
						placeholder="Оставьте свой ответ здесь..."
					></textarea>
				</div>
				<div id="error"></div>
			</form>
			<div class="Low_buttons">
				<button id="submit">Отправить</button>
				<button id="back">На главную</button>
			</div>
		</div>
		<script>
			for (let i = 1; i < 10 + 1; i++) {
				document.getElementById('form_' + i).addEventListener('keyup', (e) => {
					document.getElementById('form_' + i).style.height = 'auto'
					let scHeight = e.target.scrollHeight
					document.getElementById('form_' + i).style.height = `${scHeight}px`
				})
			}
		</script>
		<script src="https://telegram.org/js/telegram-web-app.js"></script>
		<script>
			let tg = window.Telegram.WebApp
			let send = document.getElementById('submit')
			let back = document.getElementById('back')
			tg.expand()

			send.addEventListener('click', () => {
				let form_1 = document.getElementById('form_1').value
				let form_2 = document.getElementById('form_2').value
				let form_3 = document.getElementById('form_3').value
				let form_4 = document.getElementById('form_4').value
				let form_5 = document.getElementById('form_5').value
				let form_6 = document.getElementById('form_6').value
				let form_7 = document.getElementById('form_7').value
				let form_8 = document.getElementById('form_8').value
				let form_9 = document.getElementById('form_9').value
				let form_10 = document.getElementById('form_10').value
				if (
					form_1 === '' ||
					form_2 === '' ||
					form_3 === '' ||
					form_4 === '' ||
					form_5 === '' ||
					form_6 === '' ||
					form_7 === '' ||
					form_8 === '' ||
					form_9 === '' ||
					form_10 === ''
				) {
					document.getElementById('error').innerText = 'Заполните все поля'
					document.getElementById('error').style.display = 'block'
					const element = document.getElementById('error')
					let opacity = 1
					const interval = 50
					const duration = 1000

					function fadeOut() {
						opacity -= interval / duration
						element.style.opacity = opacity

						if (opacity <= 0) {
							clearTimeout(timer)
							document.getElementById('error').style.display = 'none'
						} else {
							timer = setTimeout(fadeOut, interval)
						}
					}

					let timer = setTimeout(fadeOut, interval)
					return
				}

				let data = {
					question_1: form_1,
					question_2: form_2,
					question_3: form_3,
					question_4: form_4,
					question_5: form_5,
					question_6: form_6,
					question_7: form_7,
					question_8: form_8,
					question_9: form_9,
					question_10: form_10,
				}
				tg.sendData(JSON.stringify({ data }))
				tg.close()
			})
		</script>
	</body>
</html>
